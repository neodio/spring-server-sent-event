<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${meetingRoom.name}">íšŒì˜ì‹¤ ìƒì„¸</title>
    <link rel="icon" type="image/svg+xml" th:href="@{/favicon.svg}">
    <link rel="stylesheet" th:href="@{/css/meeting-room-detail.css}">
</head>
<body>
<div class="container">
    <button class="back-button" onclick="location.href='/'">
        â† ë’¤ë¡œ
    </button>

    <div class="header">
        <div class="room-info">
            <div class="room-icon">ì •ìš°<br>ì»´í¼ë‹ˆ</div>
            <div class="room-text">
                <div class="campus-name">ì„ ë¦‰ ìº í¼ìŠ¤</div>
                <div class="room-name" th:text="${meetingRoom.name}">íšŒì˜ì‹¤</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0 / 4</div>
        </div>
    </div>

    <div class="checklist-section">
        <div class="section-header">
            <span class="section-title" th:text="${meetingRoom.name}">íšŒì˜ì‹¤</span>
            <button class="all-button" onclick="toggleAll()">
                ì „ì²´ ì²´í¬
            </button>
        </div>

        <div class="checklist-item" onclick="toggleCheckbox('airConditionerOff')">
            <div class="checkbox-wrapper">
                <div class="checkbox" id="checkbox-airConditionerOff"
                     th:classappend="${meetingRoom.airConditionerOff} ? 'checked' : ''"></div>
            </div>
            <span class="item-label">ì—ì–´ì»¨ ë„ê¸°</span>
            <span class="status-badge" id="status-airConditionerOff"
                  th:classappend="${meetingRoom.airConditionerOff} ? 'completed' : 'pending'"
                  th:text="${meetingRoom.airConditionerOff} ? 'ì™„ë£Œ' : 'ëŒ€ê¸°'">ëŒ€ê¸°</span>
        </div>

        <div class="checklist-item" onclick="toggleCheckbox('tvOff')">
            <div class="checkbox-wrapper">
                <div class="checkbox" id="checkbox-tvOff"
                     th:classappend="${meetingRoom.tvOff} ? 'checked' : ''"></div>
            </div>
            <span class="item-label">TV ë„ê¸°</span>
            <span class="status-badge" id="status-tvOff"
                  th:classappend="${meetingRoom.tvOff} ? 'completed' : 'pending'"
                  th:text="${meetingRoom.tvOff} ? 'ì™„ë£Œ' : 'ëŒ€ê¸°'">ëŒ€ê¸°</span>
        </div>

        <div class="checklist-item" onclick="toggleCheckbox('lightOff')">
            <div class="checkbox-wrapper">
                <div class="checkbox" id="checkbox-lightOff"
                     th:classappend="${meetingRoom.lightOff} ? 'checked' : ''"></div>
            </div>
            <span class="item-label">ë¶ˆ ë„ê¸°</span>
            <span class="status-badge" id="status-lightOff"
                  th:classappend="${meetingRoom.lightOff} ? 'completed' : 'pending'"
                  th:text="${meetingRoom.lightOff} ? 'ì™„ë£Œ' : 'ëŒ€ê¸°'">ëŒ€ê¸°</span>
        </div>

        <div class="checklist-item" onclick="toggleCheckbox('trashCleaned')">
            <div class="checkbox-wrapper">
                <div class="checkbox" id="checkbox-trashCleaned"
                     th:classappend="${meetingRoom.trashCleaned} ? 'checked' : ''"></div>
            </div>
            <span class="item-label">ì“°ë ˆê¸° ì •ë¦¬</span>
            <span class="status-badge" id="status-trashCleaned"
                  th:classappend="${meetingRoom.trashCleaned} ? 'completed' : 'pending'"
                  th:text="${meetingRoom.trashCleaned} ? 'ì™„ë£Œ' : 'ëŒ€ê¸°'">ëŒ€ê¸°</span>
        </div>
    </div>
</div>

<!-- Thymeleafë¡œ ì´ˆê¸° ë°ì´í„° ì£¼ì… (ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸) -->
<script th:inline="javascript">
    // ì„œë²„ì—ì„œ ì£¼ì…ëœ ì´ˆê¸° ë°ì´í„°ë¥¼ ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸
    var meetingRoomId = /*[[${meetingRoom.id}]]*/ 1;
    var currentState = {
        airConditionerOff: /*[[${meetingRoom.airConditionerOff}]]*/ false,
        tvOff: /*[[${meetingRoom.tvOff}]]*/ false,
        lightOff: /*[[${meetingRoom.lightOff}]]*/ false,
        trashCleaned: /*[[${meetingRoom.trashCleaned}]]*/ false
    };
    
    console.log('ğŸ“‹ Data injected from server:');
    console.log('   meetingRoomId:', meetingRoomId);
    console.log('   currentState:', currentState);
</script>

<!-- ì™¸ë¶€ JavaScript íŒŒì¼ -->
<script th:src="@{/js/meeting-room-detail.js}"></script>
</body>
</html>
